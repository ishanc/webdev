 <!--Style-->

<style>

/*CHAT BIG BOX STYLE*/

#snackbargreet {
  visibility: hidden;
 
  text-align: center;
  border-radius: 2px;
  padding: 16px;
  position: fixed;
  z-index: 2147483638; /*MUST BE SET HIGH TO ENSURE PROPER OVERLAP ON OTHER COMPONENTS*/
  width:700px;
  top: 50%;
left: 50%;
margin-top: -350px; /* Negative half of height. */
margin-left: -350px; /* Negative half of width. */
  font-size: 20px;
  border-radius: 10px;
}

#snackbargreet.show {
  visibility: visible;
 
}
.myButtongreet{
    cursor: pointer;
    right: 4%;
    top: 3%;
    position: absolute;
}
@media only screen and (max-width: 600px) {
  #snackbargreet {
  visibility: hidden;
 
  text-align: center;
  border-radius: 2px;
  padding: 16px;
  position: fixed;
  z-index: 2147483638; /*MUST BE SET HIGH TO ENSURE PROPER OVERLAP ON OTHER COMPONENTS*/
  width:350px;
  top: 50%;
left: 50%;
margin-top: -175px; /* Negative half of height. */
margin-left: -175px; /* Negative half of width. */
  font-size: 12px;
  border-radius: 10px;
}
  .myButtongreet{
    cursor: pointer;
    right: 6%;
    top: 5%;
    position: absolute;
}
}
  </style>
  
    <!--Style End-->
  

  <!--Body-->
  <div id="snackbargreet">
  <img src="/content/dam/gts-spark/home/me@/birthday-and-anniversary-pop-up/bday2.png" style="max-width:100%; max-height:100%; display: block; border-radius:10px;">
  <a style="text-decoration: none; " class="myButtongreet" onClick="dismissgreet()">&#10060</a> <!--RED X FOR DISMISSING THE CHAT BOX-->

  </div>

  <!--Body End-->

  <!--Body JS-->

<script>
  
function dismissgreet() { 		//FUNCTION TO DISMISS THE BIG CHAT BOX
 var x = document.getElementById("snackbargreet");
x.className = x.className.replace("show", "");
}
function myFunctiongreet() { //FUNCTION TO SHOW THE BIG CHAT BOX
  var x = document.getElementById("snackbargreet");
  x.className = "show";
  setTimeout(function(){ x.className = x.className.replace("show", ""); }, 30000);
}
</script>
  <!--Body JS End-->

<!--Launch JS 1 view-->

<script>
  window.onload = function() {
Date.shortMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

function short_months(today)
   { 
     return Date.shortMonths[today.getMonth()]; 
   }
var today = new Date();
var dd = String(today.getDate()).padStart(2, '0');
var fName = ContextHub.getItem("whrdata").BIRTH_DATE
 fName = fName.split("-");
	  var e=parseInt(fName);
bDay=e+5;

	  if (localStorage.getItem("BDay")==ContextHub.getItem("adp").sAMAccountName) {
		  console.log("Seen Greeting");}
	  else {
if(fName[1]==short_months(today))
{console.log("BDay this month");
	if(dd>=e && dd<=bDay) {
      console.log("BDay this week");
		myFunctiongreet();
		localStorage.setItem("BDay", ContextHub.getItem("adp").sAMAccountName);
		
	}
}
  }
  }
	</script>
	
	<!--Launch JS 1 view End-->
	
	
	<!--Launch JS Anniversary and Birthday 1 view-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
$(document).ready(function(){
  $(function() {
  setTimeout(function() {
launch_greeting ();
}, 8000);
	    });
  })
	 
	
	function launch_greeting(){
	
	  Date.shortMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

function short_months(today)
   { 
     return Date.shortMonths[today.getMonth()]; 
   }
var today = new Date();//Get today's date
var dd = String(today.getDate()).padStart(2, '0');//Get today's day
var BDate = ContextHub.getItem("whrdata").BIRTH_DATE //Get Birth Date from whrdata from within context hub
var ADate = ContextHub.getItem("whrdata").JOIN_DATE//Get Joining Date from whrdata from within context hub
BDate = BDate.split("-");//Split the date by "-"
ADate = ADate.split("-");//Split the date by "-"	  
var b=parseInt(BDate);//Parse the date and convert it from string to number
var a=parseInt(ADate);//Parse the date and convert it from string to number
bDay=b+5;//Add 5 days to Birthday
aDay=a+5;//Add 5 days to Anniversary

	  //Birthday Check
	  if (localStorage.getItem("BDay")==ContextHub.getItem("adp").sAMAccountName) { //Check if the greeting has been displayed before
		  console.log("Seen Greeting");}
	  else { //If the Birthday greeting has not been shown before
if(BDate[1]==short_months(today)) //Check if it's Birthday Month
{console.log("Birthday this month");
	if(dd>=b && dd<=bDay) { //Check if it's Birthday in the last 5 days
      console.log("Birthday this week");
		myFunctiongreet();//Show the Birthday greeting
		localStorage.setItem("BDay", ContextHub.getItem("adp").sAMAccountName);//Set local storage BDay Key with Samaccount name
		
	}
}
  }
	  //Aniversary Check
	  
	  if (localStorage.getItem("ADay")==ContextHub.getItem("adp").sAMAccountName) { //Check if the greeting has been displayed before
		  console.log("Seen Greeting");}
	  else {	//If the Anniversary greeting has not been shown before
if(ADate[1]==short_months(today))//Check if it's Anniversary Month
{console.log("Anniversary this month");
	if(dd>=a && dd<=aDay) {		//Check if it's Birthday in the last 5 days
      console.log("Anniversary this week");
		myFunctiongreetann(); //Show the Anniversary greeting
		localStorage.setItem("ADay", ContextHub.getItem("adp").sAMAccountName);//Set local storage ADay Key with Samaccount name
		
	}
}
  }
	}

	</script>
	
	<!--Launch JS Anniversary and Birthday 1 view End-->
	
	
	
	
	<!--Launch JS Anniversary and Birthday 1 view with delay if same month-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>	
$(document).ready(function(){//Check if DOM is loaded
$(function() {
setTimeout(function() { //Delay 7 seconds before greeting function once DOM is loaded
launch_greeting ();
}, 7000);
});
})	
function launch_greeting(){ //Launch Greeting main function
Date.shortMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']; //Array of months
function short_months(today)
{ 
return Date.shortMonths[today.getMonth()]; 
}
var today = new Date();//Get today's date
var dd = String(today.getDate()).padStart(2, '0');//Get today's day
var BDate = ContextHub.getItem("whrdata").BIRTH_DATE //Get Birth Date from whrdata from within context hub
var ADate = ContextHub.getItem("whrdata").JOIN_DATE//Get Joining Date from whrdata from within context hub
BDate = BDate.split("-");//Split the date by "-"
ADate = ADate.split("-");//Split the date by "-"	  
var b=parseInt(BDate);//Parse the date and convert it from string to number
var a=parseInt(ADate);//Parse the date and convert it from string to number
bDay=b+5;//Add 5 days to Birthday
aDay=a+5;//Add 5 days to Anniversary
	  //Birthday Check
if (localStorage.getItem("BDay")==ContextHub.getItem("adp").sAMAccountName) { //Check if the greeting has been displayed before
console.log("Seen Greeting");}
else { //If the Birthday greeting has not been shown before
if(BDate[1]==short_months(today)) //Check if it's Birthday Month
{console.log("Birthday this month");
if(dd>=b && dd<=bDay) { //Check if it's Birthday in the last 5 days
console.log("Birthday this week");
myFunctiongreet();//Show the Birthday greeting
localStorage.setItem("BDay", ContextHub.getItem("adp").sAMAccountName);//Set local storage BDay Key with Samaccount name
}
	}
		}
	  //Aniversary Check
function anniversary(){
if(ADate[1]==short_months(today))//Check if it's Anniversary Month
{console.log("Anniversary this month");
if(dd>=a && dd<=aDay) {		//Check if it's Birthday in the last 5 days
console.log("Anniversary this week");
myFunctiongreetann(); //Show the Anniversary greeting
localStorage.setItem("ADay", ContextHub.getItem("adp").sAMAccountName);//Set local storage ADay Key with Samaccount name	
}
	}
		}	
if (localStorage.getItem("ADay")==ContextHub.getItem("adp").sAMAccountName) { //Check if the greeting has been displayed before
console.log("Seen Greeting");}
else {	//If the Anniversary greeting has not been shown before
if(BDate[1]==ADate[1]){	//Check if Birthday and Anniversary are in the same month
setTimeout(function() {	//Delay Anniversary pop up by 6 seconds
anniversary();
}, 6000);
}	  
else{  
anniversary();
}
	}
		}
	</script>
	
	<!--Launch JS Anniversary and Birthday 1 view with delay if same month End-->
